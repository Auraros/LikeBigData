# Hadoop序列化

## 序列化和反序列化概念

>    序列化（serialization）是指将结构化数据对象转化为字节流以便在网络上传输或写到磁盘进行永久存储的过程。反序列化（deserialization）是指将字节流转会结构化对象的过程

> 经常出现在两大领域中：进程间通信和永久存储



## 序列化作用

>    “活的”对象只存在内存里，关机断电就没有了。而且“活的”对象只能由本地的进程使用，不能被发送到网络上的另外一台计算机。然而序列化可以存储“活的”对象，可以将“活的”对象发送到远程计算机



### RPC协议

​    在Hadoop系统中，系统中的多个节点上进程间的通信是通过“远程过程调用”（remote procedure call，RPC）实现的，RPC协议将消息序列转化为二进制流发送到远程节点，远程节点接着二进制流反序列化为原始信息。RPC序列格式如下：

- 紧凑

  > 紧凑的格式能充分利用网络宽带（数据中心最稀缺的资源）
  >
  > 作用： 高效的使用存储空间

- 快速

  > 进程间通信形成了分布式系统的骨架，所以需要尽量减少序列化和反序列化的性能开销。
  >
  > 作用：读写数据的额外开销小

- 可扩展

  > 为了满足新的需求，协议不断变化。所以在控制客户端和服务端的过程中，需要直接引进相应的协议。
  >
  > 作用：随着通信协议的升级而可升级

- 支持互操作

  > 支持多语言的交互



## 常用数据的序列化类型

| Java类型 | Hadoop Writeable类型 |
| -------- | -------------------- |
| boolean  | BooleanWritable      |
| byte     | ByteWritable         |
| int      | IntWritable          |
| float    | FloatWritable        |
| long     | LongWritable         |
| double   | DoubleWritable       |
| String   | Text                 |
| map      | MapWritable          |
| array    | ArrayWritable        |



## 自定义bean对象实现序列化接口步骤

